{
    "appsettingsPath": "",
    "aiKey": "",
    "services": {
        "Catalogue": {
            "port": 8001,
            "processors": {
                "GetProduct": {
                    "errorSize": 256,
                    "latency": 0,
                    "steps": [ "DatabaseCall", "DeserializeOneItem" ],
                    "successSize": 3072 
                },
                "GetProducts": {
                    "errorSize": 256,
                    "latency": 0,
                    "steps": [ "DatabaseCall", "DeserializeManyItems" ],
                    "successSize": 76800
                },
                "GetSearchProducts": {
                    "errorSize": 256,
                    "latency": 0,
                    "steps": [ "DatabaseCall", "DeserializeFewItems" ],
                    "successSize": 9216
                },
                "UpdateProduct": {
                    "errorSize": 64,
                    "latency": 0,
                    "steps": [ "DatabaseCall", "DeserializeOneItem" ],
                    "successSize": 64
                }
            },
            "steps": {
                "DatabaseCall": { 
                    "type": "DelayStep",
                    "step": {
                        "time" : 0.03
                    }
                },
                "DeserializeOneItem": { 
                    "type": "LoadStep",
                    "step": {
                        "bytes": 3072,
                        "time": 0.0,
                        "percent": 1,
                        "processors": 1
                    }
                },
                "DeserializeFewItems": { 
                    "type": "LoadStep",
                    "step": {
                        "bytes": 9216,
                        "time": 0.0,
                        "percent": 1,
                        "processors": 1
                    }
                },
                "DeserializeManyItems": { 
                    "type": "LoadStep",
                    "step": {
                        "bytes": 76800,
                        "time": 0.0,
                        "percent": 1,
                        "processors": 1
                    }
                }
            }
        },        
        "Search": {
            "port": 8002,
            "processors": {
                "GetBatch" : {
                    "errorSize": 256,
                    "latency": 0,
                    "steps": [ "LookupIndexes", "BatchQueryStep" ],
                    "successSize": 76800
                },
                "Query" : {
                    "errorSize": 256,
                    "latency": 0,
                    "steps": [ "LookupIndexes", "SearchQueryStep" ],
                    "successSize": 9216
                }
            },
            "steps": {
                "LookupIndexes": { 
                    "type": "LoadStep",
                    "step": {
                        "bytes": 16,
                        "time": 0.0001,
                        "percent": 1,
                        "processors": 1
                    }
                },
                "BatchQueryStep": {
                    "type": "RequestStep",
                    "step": {
                        "cacheId": "BatchQuery",
                        "cacheKeyUniqueness": 40,
                        "client": "CatalogueClient",
                        "method": "get",
                        "path": "/api/Catalogue/GetProducts",
                        "size" : 16,
                        "reuseSockets": true,
                        "trueAsync" : false 
                    }
                },
                "SearchQueryStep": {
                    "type": "RequestStep",
                    "step": {
                        "cacheId": "SearchQuery",
                        "cacheKeyUniqueness": 5000,
                        "client": "CatalogueClient",
                        "method": "get",
                        "path": "/api/Catalogue/GetSearchProducts",
                        "size" : 16,
                        "reuseSockets": true,
                        "trueAsync" : false 
                    }
                }
            },
            "clients": {
                "CatalogueClient": {
                    "baseAddress": "http://todo-cluster-name.northeurope.cloudapp.azure.com:8001",
                    "policies": [ "30SecondTimeout" ], 
                    "headers": { "Accept": "*/*" }
                }
            },
            "poilicies": {
                "30SecondTimeout": {
                    "type": "TimeoutConfig",
                    "policy": {
                        "cancelDelegates" : true,
                        "time" : 30.0
                    }
                }
            }
        }
    }
}